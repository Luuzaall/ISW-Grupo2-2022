<div class="container-fluid">
    <h1>
      <u>
        Forma de pago
      </u>
    </h1>
  <form [formGroup]="FormFormaPago">

    <!-- Forma Pago -->
    <div class="row">
      <div class="col-sm-4 col-md-3 offset-md-1">
        <label class="col-form-label"
          >Forma de Pago<span class="text-danger">*</span>:</label
        >
      </div>
      <div class="col-6">
        <div class="custom-control custom-radio" *ngFor="let fp of FormasPagos">
          <input
            class="custom-control-input"
            type="radio"
            name="FormaPago"
            value="{{ fp.Nombre }}"
            id="{{ 'FormaPago' + fp.Nombre }}"
            formControlName="FormaPago"
            (click)="seleccionandoFormaPago(fp)"
            [ngClass]="{
              'is-invalid':
                (FormFormaPago.controls['FormaPago'].touched || submitted) &&
                FormFormaPago.controls['FormaPago'].errors
            }"
          />
          <label
            class="custom-control-label"
            for="{{ 'FormaPago' + fp.Nombre }}"
          >
            {{ fp.Nombre }}
          </label>
        </div>

        <div
          class="validacion"
          *ngIf="
            (FormFormaPago.controls['FormaPago'].touched || submitted) &&
            FormFormaPago.controls['FormaPago'].errors?.['required']"
          >
          Dato requerido.
        </div>

      </div>
    </div>
  
<div>
  <div class="form-group" *ngIf="formaPagoSeleccionado?.sosEfectivo()">
    <h2>
      <legend><u>Efectivo</u></legend>
    </h2>
        <!--Monto a pagar-->
        <div class="row">
          <div class="col-sm-4 col-md-3 offset-md-1">
            <label class="col-form-label" for="MontoPagar">
              Monto a Pagar<span class="text-danger">*</span>:
            </label>
          </div>
          <div class="col-sm-8 col-md-6">
            <input
              type="text"
              name="MontoPagar"
              class="form-control inputMedio"
              formControlName="MontoPagar"
              [ngClass]="{
              'is-invalid':
                (FormFormaPago.controls['MontoPagar'].touched || submitted) &&
                FormFormaPago.controls['MontoPagar'].errors,
              'is-valid': FormFormaPago.controls['MontoPagar'].valid
            }"
          />
          <div
                class="validacion"
                *ngIf="
                  (FormFormaPago.controls['MontoPagar'].touched || submitted) &&
                  FormFormaPago.controls['MontoPagar'].errors?.['required']
                "
              >
                Dato requerido.
              </div>
              <div
                class="validacion"
                *ngIf="FormFormaPago.controls['MontoPagar'].errors?.['pattern']"
              >
                Dato numérico, 2 a 9 dígitos.
              </div>
    
          </div>
        </div>
  </div>

  <div class="form-group" *ngIf="formaPagoSeleccionado?.sosTarjeta()">
    <h2>
      <legend><u>Datos de la tarjeta</u></legend>
    </h2>
    <div class="row">
      <div class="col-sm-4 col-md-3 offset-md-1">
        <label class="col-form-label" for="NumeroTarjeta">
          Numero Tarjeta<span class="text-danger">*</span>:
        </label>
      </div>
      <div class="col-sm-8 col-md-6">
        <input
          type="text"
          name="NumeroTarjeta"
          class="form-control inputMedio"
          formControlName="NumeroTarjeta"
          maxlength="16"
          [ngClass]="{
          'is-invalid':
            (FormFormaPago.controls['NumeroTarjeta'].touched || submitted) &&
            FormFormaPago.controls['NumeroTarjeta'].errors,
          'is-valid': FormFormaPago.controls['NumeroTarjeta'].valid
        }"
        />
        <div
          class="validacion"
          *ngIf="(FormFormaPago.controls['NumeroTarjeta'].touched || submitted) &&
                  FormFormaPago.controls['NumeroTarjeta'].errors?.['required']"
          >
          Dato requerido.
        </div>
        <div
          class="validacion"
          *ngIf="FormFormaPago.controls['NumeroTarjeta'].errors?.['pattern']"
          >
          Ingrese un dato numérico.
        </div>
        <div
          class="validacion"
          *ngIf="FormFormaPago.controls['NumeroTarjeta'].errors?.['min']"
          >
          El numero debe ser de 16 digitos.
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-4 col-md-3 offset-md-1">
        <label class="col-form-label" for="NombreTarjeta">
          Nombre y apellido Titular (Como aparece en la tarjeta)<span class="text-danger">*</span>:
        </label>
      </div>
      <div class="col-sm-8 col-md-6">
        <input
          type="text"
          name="NombreTarjeta"
          class="form-control inputMedio"
          formControlName="NombreTarjeta"
          maxlength="40"
          [ngClass]="{
          'is-invalid':
            (FormFormaPago.controls['NombreTarjeta'].touched || submitted) &&
            FormFormaPago.controls['NombreTarjeta'].errors,
          'is-valid': FormFormaPago.controls['NombreTarjeta'].valid
        }"
        />
        <div
          class="validacion"
          *ngIf="(FormFormaPago.controls['NombreTarjeta'].touched || submitted) &&
                  FormFormaPago.controls['NombreTarjeta'].errors?.['required']"
          >
          Dato requerido.
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-4 col-md-3 offset-md-1">
        <label class="col-form-label" for="Vencimiento">
          Vencimiento (MM/AA)<span class="text-danger">*</span>:
        </label>
      </div>
      <div class="col-sm-8 col-md-6">
        <input
          type="text"
          name="VencimientoMes"
          class="form-controlMes"
          formControlName="VencimientoMes"
          maxlength="2"
          [ngClass]="{
          'is-invalid':
            (FormFormaPago.controls['VencimientoMes'].touched || submitted) &&
            FormFormaPago.controls['VencimientoMes'].errors,
          'is-valid': FormFormaPago.controls['VencimientoMes'].valid
        }"
        />
        <div
          class="validacion"
          *ngIf="(FormFormaPago.controls['VencimientoMes'].touched || submitted) &&
                  FormFormaPago.controls['VencimientoMes'].errors?.['required']"
          >
          Dato requerido.
        </div>
        /
        <input
          type="text"
          name="VencimientoAnio"
          class="form-controlAnio"
          formControlName="VencimientoAnio"
          maxlength="2"
          [ngClass]="{
          'is-invalid':
            (FormFormaPago.controls['VencimientoAnio'].touched || submitted) &&
            FormFormaPago.controls['VencimientoAnio'].errors,
          'is-valid': FormFormaPago.controls['VencimientoAnio'].valid
        }"
        />
      </div>
    </div>


    <label>
      Fecha Vencimiento (MM/AA)
      <input type="text" class="fechaVencimiento" [maxlength]="2" [(ngModel)]="pedido.mes_vencimiento" name="mes_vencimiento">
      /
      <input type="text" class="fechaVencimiento" [maxLength]="2" [(ngModel)]="pedido.anio_vencimiento" name="anio_vencimiento">
    </label>
    <label>
      CVC (Codigo de seguridad)
      <input type="text" class="cvc" [maxLength]="3" [(ngModel)]="pedido.cvc" name="cvc">
    </label>
  </div>



  <div class="form-group">
    <label>
      Total a pagar: $ {{pedido.monto}}
      <!-- <input type="text" disabled [value]="pedido.monto"> -->
    </label>
  </div>
  <p align="center">
    <button class="btn btn-success" (click)="mostrarPedido()">Finalizar Pedido</button>
  </p>


